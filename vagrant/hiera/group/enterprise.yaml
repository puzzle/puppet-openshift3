---
openshift3::deployment_type: enterprise
openshift3::version: 3.2.1.13
openshift3::docker_version: 1.10.3
#openshift3::ansible_version: 2.1.0.0
#openshift3::version: 3.1.1.6
# set the Red Hat repositories that shall be added, enabled and prioritized
#openshift3::rhsm_repos:
#  - rhel-7-server-extras-rpms
#  - rhel-7-server-optional-rpms
#  - rhel-7-server-rpms
openshift3::set_node_ip: true
openshift3::registry_ip: 172.30.1.1
openshift3::install_metrics: false
openshift3::install_logging: false
openshift3::ansible_vars:
  openshift_master_htpasswd_users: {'joe': '$apr1$LB4KhoUd$2QRUqJTtbFnDeal80WI2R/', 'alice': '$apr1$LB4KhoUd$2QRUqJTtbFnDeal80WI2R/'}
  openshift_master_dns_port: 8053
  openshift_node_kubelet_args:
    image-gc-high-threshold: ['80']
    image-gc-low-threshold: ['60']
  appuio_docker_cleanup_mail: ""  # Where to send mails for docker-cleanup cron job. No mail is sent when empty ("").
  appuio_ansible_post_install_roles:  # Roles to run after installation and configuration with OpenShift Ansible playbook
  - name: appuio-pruner
    src: https://github.com/appuio/appuio-pruner
    scm: git
    version: v1.0.5

#openshift3::logging_local_storage: /data/logging

#openshift3::master_style_repo_url: https://github.com/puzzle/ose-appuio-style
#openshift3::master_extension_stylesheets:
#  - stylesheets/appuio_extensions.css
#openshift3::master_oauth_template: login/login-template.html

#openshift3::sdn_network_plugin_name: redhat/openshift-ovs-multitenant

openshift3::masters:
  - name: ose3-master.example.com
    public_ip: 172.22.22.122
    ip: 172.22.22.122
    node_labels:
      region: infra
      zone: default
      logging-infra-fluentd: "true"
      test: "2"
    schedulable: True

#  - name: ose3-master2.example.com
#    ip: 172.22.22.123
#    node_labels:
#      region: infra
#      zone: default
#    schedulable: True
#
#openshift3::etcd:
#  - name: ose3-master.example.com
#  - name: ose3-master2.example.com

#openshift3::nodes:
#  - name: ose3-node1.example.com
#    public_ip: 172.22.22.131
#    ip: 172.22.22.131
#    node_labels:
#      region: primary
#      zone: east
#  - name: ose3-node2.example.com
#    ip: 172.22.22.134
#    node_labels:
#      region: primary
#      zone: west
#
#openshift3::lb:
#  - name: ose3-master.example.com

openshift3::groups:
  # Host group defining Gluster cluster hosts
  gluster:
    - name: ose3-master.example.com

openshift3::group_vars:
  # Group variable for Gluster
  gluster:
    deployment: community
    default_replicas: 3
    default_arbiter: 1
    gluster_network: 172.17.176.0/24

    # Global options for all Gluster volumes.
    gluster_pv_default_options:
      cluster.quorum-type: auto  # Always recommended to ensure correct quorum config

      # Disable pre-fetching and caching of file stat(2) information when a directory is read.
      # Required to prevent corruption with PostgreSQL an possibly MySQL.
      performance.stat-prefetch: "off"

    gluster_pvs:
      - name: gluster-pv1
        size: 100G
        # Per volume Gluster options.
        options:
          # Increase write cache size to speed up push operations for registry.
          performance.write-behind-window-size: 32MB
